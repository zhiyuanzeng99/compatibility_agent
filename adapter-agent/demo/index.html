<!doctype html>
<html lang="zh">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>V1 一键部署演示结果</title>
    <link rel="stylesheet" href="demo.css" />
  </head>
  <body>
    <main class="page">
      <header class="hero">
        <div>
          <p class="kicker">Adapter Agent • V1 One-Click</p>
          <h1>OpenClaw + OpenGuardrails 一键部署</h1>
          <p class="subtitle">展示部署成功、健康检查与检测样例，并用对比视图突出变化。</p>
        </div>
        <div class="badge" id="statusBadge">Loading…</div>
      </header>

      <section class="controls">
        <div class="control-block">
          <label>
            场景选择
            <select id="scenario">
              <option value="v1">V1 部署对比（JSON 文件）</option>
              <option value="danger">危险操作对比（删除所有邮件）</option>
            </select>
          </label>
        </div>
        <div class="control-block">
          <label>
            Before 文件（路径或上传）
            <input id="beforeFile" placeholder="demo_result_before.json" value="demo_result_before.json" />
          </label>
          <input id="beforeUpload" type="file" accept=".json" />
        </div>
        <div class="control-block">
          <label>
            After 文件（路径或上传）
            <input id="afterFile" placeholder="demo_result_after.json" value="demo_result_after.json" />
          </label>
          <input id="afterUpload" type="file" accept=".json" />
        </div>
        <button id="reload">重新加载</button>
      </section>

      <section class="compare-grid">
        <div class="card highlight">
          <div class="card-header">
            <h2>Before（未部署 Guardrails）</h2>
            <span class="pill" id="beforePill">No Data</span>
          </div>
          <div class="kv" id="beforeSummary"></div>
          <div class="callout" id="beforeCallout"></div>
          <div class="card-header">
            <h3>检测样例</h3>
            <button class="ghost" data-toggle="beforeDetection">展开/收起</button>
          </div>
          <pre id="beforeDetection" class="collapsed"></pre>
        </div>

        <div class="card highlight">
          <div class="card-header">
            <h2>After（已部署 OpenGuardrails）</h2>
            <span class="pill ok" id="afterPill">Loading…</span>
          </div>
          <div class="banner" id="afterBanner">已拦截</div>
          <div class="kv" id="afterSummary"></div>
          <div class="callout" id="afterCallout"></div>
          <div class="card-header">
            <h3>检测样例</h3>
            <button class="ghost" data-toggle="afterDetection">展开/收起</button>
          </div>
          <pre id="afterDetection" class="collapsed"></pre>
        </div>
      </section>

      <section class="grid">
        <div class="card">
          <h2>关键差异（Before → After）</h2>
          <div class="table" id="compare"></div>
        </div>
        <div class="card">
          <div class="card-header">
            <h2>差异摘要（文本版）</h2>
            <button class="ghost" data-toggle="diff">展开/收起</button>
          </div>
          <pre id="diff" class="collapsed"></pre>
        </div>
      </section>

      <footer class="footnote">
        <span>默认读取当前目录：demo_result_before.json / demo_result_after.json</span>
      </footer>
    </main>

    <script src="demo.js"></script>
  </body>
</html>
